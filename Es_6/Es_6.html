
<html>
		<head>
			<title> Es_6 - Solar System - Interactive 3D Graphics</title>
			<style>
			body {
				font-family: Monospace;
				background-color:#f0f0f0;
				margin: 0px;
				overflow: hidden;
			}
			canvas {
				width: 100%;
				height: 100%;
			}
		</style>
			<script src="libs/three.js"></script>
			<script src="libs/stats.min.js"></script>
			<script src="libs/OBJLoader.js"></script>
			<script src="libs/Coordinates.js"></script>
			<script src="libs/OrbitControls.js"></script>
		</head>
		-------------- Andrea Mansi UNIUD ---- Solar System rotations examples
		<body>
	
			<script>
				// VARIABLES //
				var scene, camera, renderer, camera, stats;
				var sun_pivot,planet_pivot,planet;
				var wirefra=true;
				
				function Start() {
		
					setupScene();
					setupCamera();
					setupRenderer();
					setupStatsOSD();
					setupBasicLightSystem();


	
					// Start code goes here

					var sun = Sun();
					scene.add(sun);
					sun_pivot = new THREE.Object3D();
					scene.add(sun_pivot);

					planet = Planet();
					scene.add(planet);
					planet.position.x = 7;
					planet.rotation.x = 35;
					sun_pivot.add(planet);

					planet_pivot = new THREE.Object3D();
					planet.add(planet_pivot);

					var moon = Moon();
					scene.add(moon);
					planet_pivot.add(moon);
					moon.position.x = 1;

					// planet poles
					var geometry = new THREE.SphereGeometry( 0.15, 8, 8 );
					var material = new THREE.MeshPhongMaterial( {color: "red",wireframe: wirefra} );
					var pole1 = new THREE.Mesh( geometry, material );
					var pole2 = new THREE.Mesh( geometry, material );
					scene.add(pole1,pole2);
					planet_pivot.add(pole1,pole2);
					pole1.position.y=0.425;
					pole2.position.y=-0.425;




	
	
				}

				function Planet(){
					var geometry = new THREE.SphereGeometry( 0.5, 16, 16 );
					var material = new THREE.MeshPhongMaterial( {color: "green", wireframe: wirefra} );
					var sphere = new THREE.Mesh( geometry, material );
					return sphere;
				}

				function Sun(){
					var geometry = new THREE.SphereGeometry( 2, 32, 32 );
					var material = new THREE.MeshPhongMaterial( {color: 0xffff00, wireframe: wirefra} );
					var sphere = new THREE.Mesh( geometry, material );
					return sphere;
				}

				function Moon(){
					var geometry = new THREE.SphereGeometry( 0.2, 16, 16 );
					var material = new THREE.MeshPhongMaterial( {color: "blue",	wireframe:wirefra} );
					var sphere = new THREE.Mesh( geometry, material );
					return sphere;
				}
				
				function Update() {	
					requestAnimationFrame(Update);
					stats.update();
					controls.update();

					sun_pivot.rotation.y += 0.0025;
					planet_pivot.rotation.y += 0.0025;
					planet.rotation.y += 0.0075;

					renderer.render(scene, camera);
				}
	
				function setupScene(){	// SCENE //
					scene = new THREE.Scene();
					Coordinates.drawAllAxes();
				}
	
				function setupCamera(){	 // CAMERA //
					camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
					camera.position.set(3,4,6);
					camera.lookAt( new THREE.Vector3(0,0,0));
					controls = new THREE.OrbitControls(camera);
				}
	
				function setupRenderer(){	// RENDERER //
					renderer = new THREE.WebGLRenderer({antialias:true});
					renderer.setSize( window.innerWidth, window.innerHeight );
					renderer.setClearColor(0xf0f0f0);
					renderer.shadowMap.Type = THREE.PCFShadowMap;
					document.body.appendChild( renderer.domElement);
					renderer.shadowMap.enabled = true;
					renderer.shadowMap.type = THREE.BasicShadowMap;
				}
	
				function setupStatsOSD(){	// STATISTICS OSD //
					stats = new Stats();
					stats.domElement.style.position = 'absolute';
					stats.domElement.style.top = '0px';
					document.body.appendChild( stats.domElement );
				}
	
				function setupBasicLightSystem(){	// ADD A BASIC LIGHT SYSTEM TO THE SCENE //
					// basic ambient light
					light = new THREE.AmbientLight(0xffffff,0.9); 
					scene.add(light);
					// basic point light
					/*plight = new THREE.PointLight(0xffffff,2.9,21);
					plight.castShadow = true;
					plight.shadow.camera.near = 0.2;
					plight.shadow.camera.far = 25;
					scene.add(plight);
					plight.position.y = 10;
					plight.shadow.mapSize.width = 2048;
					plight.shadow.mapSize.height = 2048;*/
				}
	
				function spawnFloor(larghezza,altezza,profondità,pos_y){
					var geometry1 = new THREE.CubeGeometry(larghezza,altezza,profondità);
					var material1 = new THREE.MeshPhongMaterial( { color:0xffffff } );
					var floor = new THREE.Mesh( geometry1, material1 );
					floor.receiveShadow = true;
					scene.add(floor);
					floor.position.y = pos_y;
				}
	
				// Main code goes here
	
				Start();
				Update();
				
			</script>
		</body>
	</html>